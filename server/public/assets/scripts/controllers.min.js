/*! clothing_app 2015-11-24 */
myApp.controller("MainController",["$scope","$http","$uibModal","DataService",function(a,b,c,d){a.dataService=d,a.updateUserData=function(){a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData()})},void 0===a.dataService.peopleData()&&a.updateUserData(),a.updateUserData(),a.extractItems=function(){for(var b=[],c=0;c<a.all.length;c++)console.log("user",a.all[0]),b=b.concat(a.all[c].items);return b},a.updateAllData=function(){a.dataService.retrieveAll().then(function(){a.all=a.dataService.allData(),a.items=a.extractItems()})},void 0===a.dataService.allData()&&a.updateAllData(),a.updateAllData(),a.animationsEnabled=!0,a.open=function(b){var d=c.open({animation:c.animationsEnabled,templateUrl:"templates/viewItemModal.html",controller:"ViewItemController",resolve:{item:function(){return b},user:function(){for(var c=0;c<a.all.length;c++)if(console.log("hi user",a.all[c]),_.contains(a.all[c].items,b))return console.log("found it!"),a.all[c]}}});d.result.then(function(){console.log("closed")})},a.toggleAnimation=function(){a.animationsEnabled=!a.animationsEnabled}}]),myApp.controller("ViewItemController",["$scope","$http","$uibModalInstance","DataService","item","user",function(a,b,c,d,e,f){a.item=e,a.user=f,a.dataService=d,a.ok=function(){console.log(a.user),c.close("submitted")},a.cancel=function(){c.dismiss("cancel")}}]),myApp.controller("MyAccountController",["$scope","$http","DataService",function(a,b,c){console.log("ur in the account now"),a.dataService=c,a.updateUserData=function(){a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData()})},void 0===a.dataService.peopleData()&&a.updateUserData(),a.user=a.dataService.peopleData()}]),myApp.controller("MyClosetController",["$scope","$http","$uibModal","DataService",function(a,b,c,d){console.log("ur in the closet"),a.dataService=d,a.updateUserData=function(){a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData()})},void 0===a.dataService.peopleData()&&a.updateUserData(),a.user=a.dataService.peopleData(),console.log(a.user),a.animationsEnabled=!0,a.open=function(b){var d=c.open({animation:c.animationsEnabled,templateUrl:"templates/addItemModal.html",controller:"AddItemController",size:b,resolve:{items:function(){return a.user}}});d.result.then(function(){console.log("closed"),a.updateUserData()})},a.toggleAnimation=function(){a.animationsEnabled=!a.animationsEnabled},a.remove=function(c){console.log(c),b["delete"]("/user/entry",{params:{id:c._id}}).then(function(b){console.log(b),a.updateUserData()})}}]),myApp.controller("AddItemController",["$scope","$http","$uibModalInstance","DataService",function(a,b,c,d){a.item={},a.dataService=d,a.types=a.dataService.typeData(),a.sizes=a.dataService.sizeData(),a.ok=function(){console.log(a.item),b.put("/user/entry",a.item).then(function(a){console.log(a)}),a.item={},c.close("submitted")},a.cancel=function(){c.dismiss("cancel")}}]);